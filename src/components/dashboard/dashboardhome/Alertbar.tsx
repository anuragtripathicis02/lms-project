"use client";
import IfOnlyOnePlayerRemainModal from "@/components/modalcomponents/IfOnlyOnePlayerRemainModal";
import RollingDrums from "@/components/modalcomponents/RollingDrums";
import Link from "next/link";
import React, { useState } from "react";
import Alert from "react-bootstrap/Alert";
import Button from "react-bootstrap/Button";



const Alertbar = () => {
    const [show, setShow] = useState(true);

    const [showIfOnlyOneplayerRemain, setShowIfOnlyOneplayerRemain] = useState(false);
    const handleIfOnlyOneplayerRemain = () => setShowIfOnlyOneplayerRemain(true);

    const [showRollingDrum, setShowRollingDrum] = useState(false);
    const handleRollingDrum = () => setShowRollingDrum(true);

    const handleCloseAll = () => {
        setShowIfOnlyOneplayerRemain(false);
        setShowRollingDrum(false);
    };

    return (
        <>
            <Alert className='mb-0 home-alert' show={show}>
                <div className='container'>
                    <div className='d-flex align-items-center'>
                        <div className='icon'>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M21.169 6.99846C21.0096 7.08182 20.8323 7.12525 20.6524 7.12502C20.4461 7.12537 20.2436 7.06897 20.0672 6.96199C19.8908 6.85501 19.7472 6.70157 19.6521 6.51846C18.9683 5.16338 17.9319 4.01759 16.6521 3.20159C16.5226 3.125 16.4098 3.02321 16.3203 2.90225C16.2308 2.78129 16.1665 2.6436 16.1312 2.49735C16.0959 2.35109 16.0902 2.19924 16.1146 2.05077C16.139 1.90231 16.193 1.76025 16.2733 1.63299C16.3535 1.50574 16.4585 1.39588 16.582 1.30992C16.7055 1.22396 16.845 1.16364 16.9922 1.13254C17.1394 1.10144 17.2913 1.10018 17.439 1.12884C17.5867 1.1575 17.7272 1.2155 17.8521 1.2994C19.4677 2.33186 20.7794 3.77563 21.6527 5.48252C21.7205 5.61382 21.7618 5.75719 21.7742 5.90444C21.7865 6.05169 21.7698 6.19993 21.7249 6.3407C21.68 6.48148 21.6077 6.61202 21.5124 6.72488C21.417 6.83774 21.3003 6.93071 21.169 6.99846ZM4.34647 6.51846C5.03029 5.16338 6.06662 4.01759 7.34647 3.20159C7.47885 3.12662 7.59466 3.02558 7.68687 2.90458C7.77909 2.78357 7.84581 2.64512 7.88299 2.4976C7.92017 2.35008 7.92704 2.19654 7.90319 2.04629C7.87934 1.89603 7.82526 1.75217 7.74423 1.62342C7.66319 1.49466 7.55688 1.38367 7.43172 1.29718C7.30657 1.21068 7.16517 1.15046 7.01608 1.12018C6.86698 1.08989 6.7133 1.09015 6.56431 1.12096C6.41533 1.15176 6.27414 1.21247 6.14928 1.2994C4.53369 2.33186 3.22194 3.77563 2.34866 5.48252C2.21152 5.74735 2.18515 6.05579 2.27533 6.34005C2.36551 6.62431 2.56487 6.86113 2.82959 6.99846C2.98901 7.08182 3.16627 7.12525 3.34616 7.12502C3.55248 7.12537 3.75493 7.06897 3.93135 6.96199C4.10778 6.85501 4.25139 6.70157 4.34647 6.51846ZM20.613 15.7388C20.8246 16.0165 20.9545 16.3479 20.9879 16.6954C21.0214 17.043 20.9571 17.393 20.8023 17.706C20.6476 18.019 20.4085 18.2826 20.112 18.4671C19.8156 18.6515 19.4735 18.7495 19.1243 18.75H16.1065C16.0111 19.7733 15.5371 20.7241 14.7774 21.4163C14.0177 22.1085 13.027 22.4921 11.9993 22.4921C10.9716 22.4921 9.98084 22.1085 9.22115 21.4163C8.46145 20.7241 7.9875 19.7733 7.89209 18.75H4.87428C4.52487 18.75 4.1824 18.6524 3.88551 18.4682C3.58863 18.2839 3.34913 18.0204 3.19404 17.7073C3.03895 17.3942 2.97443 17.0439 3.00777 16.6961C3.04111 16.3483 3.17097 16.0167 3.38272 15.7388C4.05491 14.8641 4.85741 13.2431 4.87147 10.4944C4.87221 8.60436 5.62375 6.79203 6.96073 5.45609C8.29772 4.12016 10.1106 3.37006 12.0007 3.37081C13.8907 3.37155 15.7031 4.12308 17.039 5.46007C18.3749 6.79706 19.125 8.60998 19.1243 10.5C19.1383 13.2431 19.9408 14.8641 20.613 15.7388ZM13.8368 18.75H10.1618C10.2478 19.1739 10.4778 19.555 10.8127 19.8287C11.1476 20.1024 11.5668 20.2519 11.9993 20.2519C12.4318 20.2519 12.851 20.1024 13.1859 19.8287C13.5208 19.555 13.7507 19.1739 13.8368 18.75ZM18.4062 16.5C17.6412 15.2813 16.8883 13.3528 16.8743 10.5056C16.8747 9.86546 16.7489 9.23146 16.5043 8.63985C16.2596 8.04825 15.9008 7.51063 15.4484 7.05768C14.996 6.60473 14.4588 6.24533 13.8675 6C13.2761 5.75467 12.6423 5.62821 12.0021 5.62784C11.3619 5.62747 10.7279 5.7532 10.1363 5.99785C9.54469 6.2425 9.00707 6.60128 8.55412 7.0537C8.10118 7.50613 7.74178 8.04334 7.49644 8.63466C7.25111 9.22598 7.12465 9.85983 7.12428 10.5C7.11022 13.3519 6.35741 15.2813 5.59241 16.5H18.4062Z" fill="currentColor" />
                            </svg>
                        </div>
                        <p className='m-0'>
                            <Link href="javascript:void(0)" onClick={handleIfOnlyOneplayerRemain} className='text-white'><b>Round 7</b> results are in â€“ see how you went. </Link>
                            <br></br>
                            {/* To enable the rolling drums modal, you need to uncomment this section, and the modal will open after clicking. */}
                            <Link href="javascript:void(0)" onClick={handleRollingDrum} className='text-white'>Rolling Drum</Link>
                        </p>
                        <button className='close-alert ms-auto' onClick={() => setShow(false)}>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M19.5449 17.954C19.7563 18.1653 19.875 18.452 19.875 18.7509C19.875 19.0497 19.7563 19.3364 19.5449 19.5477C19.3336 19.7591 19.0469 19.8778 18.748 19.8778C18.4492 19.8778 18.1625 19.7591 17.9512 19.5477L11.999 13.5937L6.04492 19.5459C5.83358 19.7572 5.54693 19.8759 5.24805 19.8759C4.94916 19.8759 4.66251 19.7572 4.45117 19.5459C4.23983 19.3345 4.12109 19.0479 4.12109 18.749C4.12109 18.4501 4.23983 18.1635 4.45117 17.9521L10.4052 11.9999L4.45305 6.04586C4.2417 5.83451 4.12297 5.54787 4.12297 5.24898C4.12297 4.9501 4.2417 4.66345 4.45305 4.45211C4.66439 4.24076 4.95103 4.12203 5.24992 4.12203C5.54881 4.12203 5.83545 4.24076 6.0468 4.45211L11.999 10.4062L17.953 4.45117C18.1644 4.23983 18.451 4.12109 18.7499 4.12109C19.0488 4.12109 19.3354 4.23983 19.5468 4.45117C19.7581 4.66251 19.8769 4.94916 19.8769 5.24804C19.8769 5.54693 19.7581 5.83358 19.5468 6.04492L13.5927 11.9999L19.5449 17.954Z" fill="currentColor" />
                            </svg>

                        </button>
                    </div>
                </div>

            </Alert>

            <IfOnlyOnePlayerRemainModal show={showIfOnlyOneplayerRemain} handleClose={handleCloseAll} />
            <RollingDrums showRollingDrum={showRollingDrum} handleCloseAll={handleCloseAll} />
        </>
    )
}

export default Alertbar
